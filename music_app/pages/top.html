
<script>
  class CardBuilder {
         
           constructor(album_art, track, artist, album, track_no, length, year, genre, price) {
             this.track = track;
       length = length.split(":");
             genre = genre[0];
             this.card = '<div class="vcard">' +
               '<div class="vcard_left">' +
               '<img src="' + album_art + '">' +
               '</div>' +
               '<div class="vcard_right">' +
               '  <h1>' + track.slice(0, 25) + '</h1>' +
               '  <h2>' + artist + '</h2>' +
               '</div>  </div>';
           }
         
           
           get cardHTML() {
             this.card = this.card.replace('replace_placeholder', '');
             return this.card;
           }
         }
         
         $(document).ready(function () {
           $.ajax({
             url: "/other/metadata.json",
             dataType: "JSON",
             success: function (data) {
              data=data.slice(0,8);
               $(data).each(function (i, el) {
                 var c = new CardBuilder(el.album_art, el.track, el.artist, el.album, el.track_no, el.length, el.year, el.genre, el.price);
                 $('#top_container1').append(c.cardHTML);
         
               })
             },
             error: function (data) {
               alert("error loading file");
             }
           });

           $.ajax({
             url: "/other/metadata.json",
             dataType: "JSON",
             success: function (data) {
              data=data.slice(8,8+8);
               $(data).each(function (i, el) {
                 var c = new CardBuilder(el.album_art, el.track, el.artist, el.album, el.track_no, el.length, el.year, el.genre, el.price);
                 $('#top_container2').append(c.cardHTML);
         
               })
             },
             error: function (data) {
               alert("error loading file");
             }
           });

           $.ajax({
             url: "/other/metadata.json",
             dataType: "JSON",
             success: function (data) {
              data=data.slice(16,16+8);
               $(data).each(function (i, el) {
                 var c = new CardBuilder(el.album_art, el.track, el.artist, el.album, el.track_no, el.length, el.year, el.genre, el.price);
                 $('#top_container3').append(c.cardHTML);
         
               })
             },
             error: function (data) {
               alert("error loading file");
             }
           });
         
         });
  </script>


  <ul class="cb-slideshow"> 
     <li><span>Image 01</span><div><h3></h3></div></li> 
     <li><span>Image 02</span><div><h3></h3></div></li> 
     <li><span>Image 03</span><div><h3></h3></div></li> 
     <li><span>Image 04</span><div><h3></h3></div></li> 
     <li><span>Image 05</span><div><h3></h3></div></li> 
     <li><span>Image 06</span><div><h3></h3></div></li> 
  </ul> 
  <div class="top_container" id='top_container1'>         
    <h1 class="top_title">Top tracks</h1>
  </div>
  <div class="top_container" id='top_container2'>         
    <h1 class="top_title">Top Trending</h1>
  </div>
  <div class="top_container" id='top_container3'>         
    <h1 class="top_title">Tastemakers</h1>
  </div>
